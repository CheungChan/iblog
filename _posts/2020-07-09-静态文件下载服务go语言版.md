---
title: é™æ€æ–‡ä»¶ä¸‹è½½æœåŠ¡goè¯­è¨€ç‰ˆ
key: static_file_server_go
layout: article
date: '2020-07-10 17:00:00'
tags: æŠ€æœ¯ go
typora-root-url: ../../iblog

---

# é‡è¦æ›´æ–°è§æœ€ä¸‹å¤´ï¼ï¼ï¼

### å‰è¨€

ä¹‹å‰å†™è¿‡pythonç‰ˆçš„é«˜æ€§èƒ½é™æ€æ–‡ä»¶ä¸‹è½½æœåŠ¡ï¼Œç›´æ¥è¿è¡Œè®¿é—®ç«¯å£å°±å¯ä»¥ä¸‹è½½æœåŠ¡å™¨ä¸Šçš„é™æ€æ–‡ä»¶ã€‚ä½†æ˜¯ä»£ç æ˜¯pythonå†™çš„ï¼Œéƒ¨ç½²èµ·æ¥çœŸçš„æ˜¯å¤ªéš¾äº†ï¼Œå°¤å…¶æ˜¯ä¾èµ–é—®é¢˜ï¼Œä½¿ç”¨goè¯­è¨€æœ‰å¤©ç”Ÿçš„éƒ¨ç½²ä¼˜åŠ¿ã€‚

### ä»£ç 

<code>static_file_server.go</code>

```go
package main

import (
	"flag"
	"fmt"
	"net/http"
	"path/filepath"
)

var (
	port int
	dir  string
)

func main() {
	flag.IntVar(&port, "p", 8888, "å¼€æ”¾ç«¯å£")
	flag.StringVar(&dir, "d", ".", "é™æ€æ–‡ä»¶ç›®å½•")
	flag.Parse()
	addr := fmt.Sprintf("0.0.0.0:%d", port)
	dir, err := filepath.Abs(dir)
	if err != nil {
		panic("æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®")
	}
	fmt.Printf("å¼€å¯æ–‡ä»¶ä¸‹è½½æœåŠ¡ %s at %s\n", dir, addr)
	err = http.ListenAndServe(addr, http.FileServer(http.Dir(dir)))
	if err != nil {
		panic(err)
	}
}

```

# 2021.09.26æ›´æ–°ï¼ï¼ï¼

æˆ‘ç”¨goå®ç°çš„æ¯”è¾ƒç®€é™‹ï¼Œç°åœ¨å·²ç»æœ‰äº†æ›´å¥½çš„å®ç°ï¼Œæ˜¯ç”¨rustå®ç°çš„ï¼Œæ€§èƒ½æ›´å¥½ï¼ŒåŒ…åˆå°ï¼ŒåŠŸèƒ½è¿˜æ›´å…¨ã€‚å¼ºçƒˆæ¨èï¼š

[svenstaro/miniserve: ğŸŒŸ For when you really just want to serve some files over HTTP right now! (github.com)](https://github.com/svenstaro/miniserve)

æ¬¡åšå®¢ä»ç„¶ä¿ç•™ï¼Œä»…åšå­¦ä¹ äº¤æµä½¿ç”¨ï¼Œå®é™…ä½¿ç”¨æ›´æ¨è`miniserve`
